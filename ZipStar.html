<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Dây Kéo</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <!-- Font Awesome -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
      rel="stylesheet"
    />
    <style>
      /* Các kiểu chung */
      body {
        font-family: "Arial", sans-serif;
        background-color: #f5f5f5;
      }

      /* Chỉnh sửa breadcrumb */
      .breadcrumb {
        background-color: #4fd0b6; /* Màu nền mới */
        margin-bottom: 20px;
        padding: 10px 15px;
        border-radius: 5px;
      }
      .breadcrumb-item a,
      .breadcrumb-item.active {
        color: #fff; /* Màu chữ trắng */
        text-decoration: none;
      }
      .breadcrumb-item a:hover {
        text-decoration: underline;
        color: #fff; /* Giữ màu chữ trắng khi hover */
      }
      .breadcrumb-item.active {
        color: #fff; /* Màu chữ trắng cho mục active */
      }

      .sidebar {
        background-color: #fff;
        padding: 20px;
        border-right: 1px solid #ddd;
        border-radius: 5px;
        margin-bottom: 20px;
      }
      .sidebar h5 {
        font-size: 18px;
        margin-bottom: 15px;
        border-bottom: 1px solid #ddd;
        padding-bottom: 5px;
      }
      .sidebar .form-check-label {
        font-size: 14px;
      }
      .sidebar a {
        color: #333;
        text-decoration: none;
        display: block;
        padding: 5px 0;
        transition: color 0.3s;
      }
      .sidebar a:hover {
        color: #007bff;
        text-decoration: none;
      }
      .pagination {
        justify-content: flex-end;
      }

      /* Các kiểu cho Grid View */
      .product-grid {
        display: flex;
        flex-wrap: wrap;
        gap: 20px; /* Khoảng cách giữa các card */
        width: 100%; /* Chiếm toàn bộ chiều rộng của container */
        margin: 0 auto; /* Căn giữa */
      }
      .product-grid .col-md-4 {
        flex: 0 0 calc(33.33% - 20px); /* Điều chỉnh để mỗi card chiếm đều không gian */
        max-width: calc(33.33% - 20px);
      }
      .card {
        transition: transform 0.3s, box-shadow 0.3s;
        height: 100%;
        position: relative; /* Để chứa các nút hành động */
        overflow: hidden; /* Ẩn phần tràn */
        background-color: #fff;
        border: 1px solid #ddd;
        border-radius: 5px;
        max-width: 100%; /* Giới hạn chiều rộng */
        margin: auto; /* Căn giữa trong trường hợp kích thước container thay đổi */
      }
      .card:hover {
        transform: translateY(-10px);
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
      }
      .card-img-top {
        width: 100%;
        max-height: 150px; /* Giới hạn chiều cao của hình ảnh */
        object-fit: cover; /* Giữ tỷ lệ hình ảnh mà không bị méo hình */
      }
      .description {
        display: -webkit-box;
        --webkit-line-clamp: 3; /* Giới hạn 3 dòng */
        --webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
        margin-bottom: 10px;
        font-size: 14px;
        color: #555;
      }
      .card-body {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        padding: 15px;
      }
      .card-title {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        font-size: 1.25rem;
        margin-bottom: 10px;
      }
      .pricing {
        display: flex;
        align-items: center;
        gap: 10px;
        flex-wrap: wrap;
      }
      .discount-badge {
        background-color: red;
        color: white;
        padding: 2px 6px;
        font-size: 12px;
        border-radius: 4px;
      }
      .discounted-price {
        font-size: 1rem;
        font-weight: bold;
        color: #28a745;
      }
      .original-price {
        font-size: 0.9rem;
        text-decoration: line-through;
        color: #6c757d;
      }

      /* Nút hành động trên card */
      .card-actions {
        position: absolute;
        top: 10px;
        right: 10px;
        display: flex;
        flex-direction: column;
        gap: 10px;
        opacity: 0;
        transition: opacity 0.3s ease;
      }
      .card:hover .card-actions {
        opacity: 1;
      }
      .btn-add-to-cart {
        background-color: rgba(40, 167, 69, 0.9); /* Màu xanh lá */
        border: none;
        padding: 8px;
        border-radius: 50%;
        color: #fff;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .btn-add-to-cart:hover {
        background-color: rgba(40, 167, 69, 1);
      }
      .btn-favorite {
        background-color: rgba(220, 53, 69, 0.9); /* Màu đỏ */
        border: none;
        padding: 8px;
        border-radius: 50%;
        color: #fff;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .btn-favorite:hover {
        background-color: rgba(220, 53, 69, 1);
      }
      .card-actions .btn {
        width: 40px;
        height: 40px;
        padding: 0;
      }

      /* Responsive điều chỉnh */
      .sidebar {
        max-width: 100%;
        padding: 10px; /* Giảm padding */
      }

      @media (max-width: 768px) {
        .sidebar {
          display: none;
        }
      }

      /* Giới hạn độ dài văn bản */
      .card-title {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      .description {
        display: -webkit-box;
        --webkit-line-clamp: 3; /* Giới hạn 3 dòng */
        --webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
      }
    </style>
  </head>
  <body>
    <!-- Container chính -->
    <div class="container-fluid">
      <!-- Breadcrumb -->
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="index.html">Trang chủ</a></li>
          <li class="breadcrumb-item">
            <a href="#">Dây Kéo</a>
          </li>
          <li class="breadcrumb-item active" aria-current="page">
            Phụ Kiện Dây Kéo 2024
          </li>
        </ol>
      </nav>
      <div class="row">
        <!-- Sidebar -->
        <div class="col-md-3">
          <div class="sidebar">
            <h5>Danh mục</h5>
            <ul class="list-unstyled mb-4">
              <li><a href="https://nazipper.com/?gad_source=1&gclid=Cj0KCQiAire5BhCNARIsAM53K1hzX2MJT00tdYOb7-eMgZ2hhNa4AtIPyV9OKdRw2tLtkeEpW_4kr1gaAtX-EALw_wcB">Dây Kéo Trơn</a></li>
              <li><a href="https://shopee.vn/search?keyword=k%C3%A9o%20r%C4%83ng%20c%C6%B0a">Dây Kéo Răng Cưa</a></li>
              <li><a href="https://www.lazada.vn/tag/khoa-keo-kim-loai/?srsltid=AfmBOoqJbF6QRiiRFx8XdRRgVDj34LPAXbaD_7Jnu94Yy5OIrIWraHAD">Dây Kéo Bằng Kim Loại</a></li>
              <li><a href="https://shopee.vn/product/1263785599/26662750017?gad_source=1&gclid=Cj0KCQiAire5BhCNARIsAM53K1jSmmvasT8NdldDKyG15msE70ozUUQBxfUL3DTQ07chfq0XQZmRk9kaAk2mEALw_wcB">Dây Kéo Nhựa</a></li>
              <li><a href="https://shopee.vn/search?keyword=d%C3%A2y%20k%C3%A9o%20l%C6%B0ng">Dây Kéo Thắt Lưng</a></li>
              <li><a href="https://lensoilienho.com/day-keo-dong-dau-keo-soan">Dây Kéo Trang Trí</a></li>
              <li><a href="https://shopee.vn/product/64546002/2701822022?gads_t_sig=VTJGc2RHVmtYMTlxTFVSVVRrdENkZExrZG1KbGNQZ3dJbEMwUStXSm5ZcXdRVytOT1dHWVNsU0RtZWNYWFlhS2cxU3lLTml4aWVoM1hXVWQ4LzJvd1JZdFRoT0R4VzRpdy9qRnVqdlhlc0F3TWhNeGNKRFN3d0lGRjJtb1BDRUU&gad_source=1&gclid=Cj0KCQiAire5BhCNARIsAM53K1jKSgw9lBvqAJ1pgs7enH_9pD7Vfxt1RKMzILmvx5109hbOgi97gmgaApt6EALw_wcB">Dây Kéo Cổ Điển</a></li>
              <li><a href="https://shopee.vn/product/77622097/4732253429?gads_t_sig=VTJGc2RHVmtYMTlxTFVSVVRrdENkZExrZG1KbGNQZ3dJbEMwUStXSm5Zb1krZUYveVE0ME5mRTBQYjM3ekhiK2ZCR0Z2OUZhZ3pmNkFTenFtMGJ3WUJsQnR1SW1LK3h3WVVJWWlNUlFwYm1waVh3YWEwMmxIMjhGRjB6dndHU1k&gad_source=1&gclid=Cj0KCQiAire5BhCNARIsAM53K1hFrtAdJYjMhBxvx19WlGJHac4H5SFxNLrma4vGNdP-IqYwe6mJCQEaAqwnEALw_wcB">Dây Kéo Đa Năng</a></li>
              <li><a href="https://www.alibaba.com/pla/Deepeel-ZA047-3-70cm-DIY-Jacket_62409605279.html?mark=google_shopping&biz=pla&searchText=zippers&product_id=62409605279&language=vi&material=H751f3887f7ab4e2390fdc8c732626397k.jpg&src=sem_ggl&field=UG&from=sem_ggl&cmpgn=20559558214&adgrp=&fditm=&tgt=&locintrst=&locphyscl=9198864&mtchtyp=&ntwrk=x&device=c&dvcmdl=&creative=&plcmnt=&plcmntcat=&aceid=&position=&gad_source=1&gclid=Cj0KCQiAire5BhCNARIsAM53K1htelOchC606T5MBwM1pMyDOg57NMAYHiKUT9fHO9owRyGw5v1SXTkaAnaHEALw_wcB">Dây Kéo Sang Trọng</a></li>
              <li><a href="">Dây Kéo Đa Màu</a></li>
            </ul>
            <h5>Giá</h5>
            <div class="form-check mb-2">
              <input
                class="form-check-input price-filter"
                id="price1"
                type="checkbox"
                data-min="0"
                data-max="10000"
              />
              <label class="form-check-label" for="price1">Dưới 10.000đ</label>
            </div>
            <div class="form-check mb-2">
              <input
                class="form-check-input price-filter"
                id="price2"
                type="checkbox"
                data-min="10000"
                data-max="20000"
              />
              <label class="form-check-label" for="price2">
                10.000đ - 20.000đ
              </label>
            </div>
            <div class="form-check mb-2">
              <input
                class="form-check-input price-filter"
                id="price3"
                type="checkbox"
                data-min="20000"
                data-max="50000"
              />
              <label class="form-check-label" for="price3">
                20.000đ - 50.000đ
              </label>
            </div>
            <div class="form-check mb-2">
              <input
                class="form-check-input price-filter"
                id="price4"
                type="checkbox"
                data-min="50000"
                data-max="100000"
              />
              <label class="form-check-label" for="price4">
                50.000đ - 100.000đ
              </label>
            </div>
            <div class="form-check mb-2">
              <input
                class="form-check-input price-filter"
                id="price5"
                type="checkbox"
                data-min="100000"
                data-max=""
              />
              <label class="form-check-label" for="price5">Trên 100.000đ</label>
            </div>

            <h5 class="brand-section">Thương hiệu</h5>
            <div class="form-check mb-2">
              <input
                class="form-check-input brand-filter"
                id="brand1"
                type="checkbox"
                data-brand="ZipperPro"
              />
              <label class="form-check-label" for="brand1">ZipperPro</label>
            </div>
            <div class="form-check mb-2">
              <input
                class="form-check-input brand-filter"
                id="brand2"
                type="checkbox"
                data-brand="SmoothZips"
              />
              <label class="form-check-label" for="brand2">SmoothZips</label>
            </div>
            <div class="form-check mb-2">
              <input
                class="form-check-input brand-filter"
                id="brand3"
                type="checkbox"
                data-brand="ElegantZips"
              />
              <label class="form-check-label" for="brand3">ElegantZips</label>
            </div>
          </div>
        </div>
        <!-- Nội dung chính -->
        <div class="col-md-9">
          <!-- Header Controls: Title, Sort, Pagination -->
          <div
            class="d-flex justify-content-between align-items-center mb-3 header-controls"
          >
            <div class="header-left">
              <h5 class="mb-0">Phụ Kiện Dây Kéo Cao Cấp</h5>
            </div>
            <div class="header-right d-flex align-items-center">
              <!-- Loại bỏ view-toggle -->
              <select class="form-select d-inline-block w-auto" id="sortSelect">
                <option value="name-asc" selected>Sắp xếp theo: Tên A-Z</option>
                <option value="name-desc">Tên Z-A</option>
                <option value="price-asc">Giá tăng dần</option>
                <option value="price-desc">Giá giảm dần</option>
              </select>
              <!-- Phân trang ở trên bên phải -->
              <nav aria-label="Page navigation example" class="ms-3">
                <ul class="pagination mb-0" id="paginationTop">
                  <li class="page-item disabled" data-page="prev">
                    <a
                      class="page-link"
                      href="#"
                      tabindex="-1"
                      aria-disabled="true"
                      >Trước</a
                    >
                  </li>
                  <li
                    class="page-item active"
                    aria-current="page"
                    data-page="1"
                  >
                    <a class="page-link" href="#">1</a>
                  </li>
                  <li class="page-item" data-page="2">
                    <a class="page-link" href="#">2</a>
                  </li>
                  <li class="page-item" data-page="3">
                    <a class="page-link" href="#">3</a>
                  </li>
                  <li class="page-item" data-page="next">
                    <a class="page-link" href="#">Sau</a>
                  </li>
                </ul>
              </nav>
            </div>
          </div>

          <!-- Product Grid -->
          <div class="row product-grid">
            <!-- Sản phẩm 1 -->
            <div class="col-md-4 mb-4" data-price="8000" data-brand="ZipperPro">
              <div class="card h-100">
                <img
                  src="images/daykeothantientrang.jpg"
                  class="card-img-top"
                  alt="Dây Kéo Thần Tiên - Màu Trắng"
                />
                <!-- Các nút Thêm vào Giỏ và Yêu Thích -->
                <div class="card-actions">
                  <button class="btn btn-add-to-cart" title="Thêm vào giỏ">
                    <i class="fas fa-shopping-cart"></i>
                  </button>
                  <button class="btn btn-favorite" title="Yêu thích">
                    <i class="fas fa-heart"></i>
                  </button>
                </div>
                <div class="card-body d-flex flex-column">
                  <h5 class="card-title">Dây Kéo Thần Tiên - Màu Trắng</h5>
                  <p class="card-text description">
                    Dây kéo chất liệu cao cấp, bền bỉ, phù hợp cho mọi loại
                    trang phục.
                  </p>
                  <div class="pricing mt-auto">
                    <span class="discount-badge">-10%</span>
                    <span class="discounted-price">8,000đ</span>
                    <span class="original-price">8,888đ</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Sản phẩm 2 -->
            <div
              class="col-md-4 mb-4"
              data-price="12000"
              data-brand="SmoothZips"
            >
              <div class="card h-100">
                <img
                  src="images/daykeosmoothblue.jpg"
                  class="card-img-top"
                  alt="Dây Kéo Smooth - Màu Xanh Dương"
                />
                <div class="card-actions">
                  <button class="btn btn-add-to-cart" title="Thêm vào giỏ">
                    <i class="fas fa-shopping-cart"></i>
                  </button>
                  <button class="btn btn-favorite" title="Yêu thích">
                    <i class="fas fa-heart"></i>
                  </button>
                </div>
                <div class="card-body d-flex flex-column">
                  <h5 class="card-title">Dây Kéo Smooth - Màu Xanh Dương</h5>
                  <p class="card-text description">
                    Dây kéo thiết kế hiện đại, mượt mà, phù hợp với nhiều phong
                    cách.
                  </p>
                  <div class="pricing mt-auto">
                    <span class="discount-badge">-15%</span>
                    <span class="discounted-price">12,000đ</span>
                    <span class="original-price">14,117đ</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Sản phẩm 3 -->
            <div
              class="col-md-4 mb-4"
              data-price="15000"
              data-brand="ElegantZips"
            >
              <div class="card h-100">
                <img
                  src="images/daykeoelegantrong.jpg"
                  class="card-img-top"
                  alt="Dây Kéo Elegant - Màu Đỏ"
                />
                <div class="card-actions">
                  <button class="btn btn-add-to-cart" title="Thêm vào giỏ">
                    <i class="fas fa-shopping-cart"></i>
                  </button>
                  <button class="btn btn-favorite" title="Yêu thích">
                    <i class="fas fa-heart"></i>
                  </button>
                </div>
                <div class="card-body d-flex flex-column">
                  <h5 class="card-title">Dây Kéo Elegant - Màu Đỏ</h5>
                  <p class="card-text description">
                    Dây kéo sang trọng, thiết kế tinh tế, phù hợp cho các dịp
                    đặc biệt.
                  </p>
                  <div class="pricing mt-auto">
                    <span class="discount-badge">-20%</span>
                    <span class="discounted-price">15,000đ</span>
                    <span class="original-price">18,750đ</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Sản phẩm 4 -->
            <div class="col-md-4 mb-4" data-price="5000" data-brand="ZipperPro">
              <div class="card h-100">
                <img
                  src="images/daykeothanhtheocochai.jpg"
                  class="card-img-top"
                  alt="Dây Kéo Thánh Thiểu - Cổ Chai"
                />
                <div class="card-actions">
                  <button class="btn btn-add-to-cart" title="Thêm vào giỏ">
                    <i class="fas fa-shopping-cart"></i>
                  </button>
                  <button class="btn btn-favorite" title="Yêu thích">
                    <i class="fas fa-heart"></i>
                  </button>
                </div>
                <div class="card-body d-flex flex-column">
                  <h5 class="card-title">Dây Kéo Thánh Thiểu - Cổ Chai</h5>
                  <p class="card-text description">
                    Dây kéo cổ chai, phù hợp với các loại áo sơ mi cổ điển.
                  </p>
                  <div class="pricing mt-auto">
                    <span class="discount-badge">-5%</span>
                    <span class="discounted-price">5,000đ</span>
                    <span class="original-price">5,263đ</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Thêm các sản phẩm cho trang 2 và 3 -->
            <!-- Bạn có thể sao chép các sản phẩm trên và thay đổi thuộc tính data-price và data-brand phù hợp -->
            <!-- Sản phẩm 5 -->
            <div
              class="col-md-4 mb-4"
              data-price="7000"
              data-brand="SmoothZips"
            >
              <div class="card h-100">
                <img
                  src="images/daykeosmoothgreen.jpg"
                  class="card-img-top"
                  alt="Dây Kéo Smooth - Màu Xanh Lá"
                />
                <div class="card-actions">
                  <button class="btn btn-add-to-cart" title="Thêm vào giỏ">
                    <i class="fas fa-shopping-cart"></i>
                  </button>
                  <button class="btn btn-favorite" title="Yêu thích">
                    <i class="fas fa-heart"></i>
                  </button>
                </div>
                <div class="card-body d-flex flex-column">
                  <h5 class="card-title">Dây Kéo Smooth - Màu Xanh Lá</h5>
                  <p class="card-text description">
                    Dây kéo màu xanh lá, tạo điểm nhấn cho trang phục hàng ngày.
                  </p>
                  <div class="pricing mt-auto">
                    <span class="discount-badge">-10%</span>
                    <span class="discounted-price">7,000đ</span>
                    <span class="original-price">7,778đ</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Sản phẩm 6 -->
            <div
              class="col-md-4 mb-4"
              data-price="9000"
              data-brand="ElegantZips"
            >
              <div class="card h-100">
                <img
                  src="images/daykeoelegantblack.jpg"
                  class="card-img-top"
                  alt="Dây Kéo Elegant - Màu Đen"
                />
                <div class="card-actions">
                  <button class="btn btn-add-to-cart" title="Thêm vào giỏ">
                    <i class="fas fa-shopping-cart"></i>
                  </button>
                  <button class="btn btn-favorite" title="Yêu thích">
                    <i class="fas fa-heart"></i>
                  </button>
                </div>
                <div class="card-body d-flex flex-column">
                  <h5 class="card-title">Dây Kéo Elegant - Màu Đen</h5>
                  <p class="card-text description">
                    Dây kéo màu đen, tinh tế và phù hợp với nhiều loại áo khác
                    nhau.
                  </p>
                  <div class="pricing mt-auto">
                    <span class="discount-badge">-15%</span>
                    <span class="discounted-price">9,000đ</span>
                    <span class="original-price">10,588đ</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Sản phẩm 7 -->
            <div
              class="col-md-4 mb-4"
              data-price="11000"
              data-brand="ZipperPro"
            >
              <div class="card h-100">
                <img
                  src="images/daykeothanhtheoovang.jpg"
                  class="card-img-top"
                  alt="Dây Kéo Thần Thiết - Màu Vàng"
                />
                <div class="card-actions">
                  <button class="btn btn-add-to-cart" title="Thêm vào giỏ">
                    <i class="fas fa-shopping-cart"></i>
                  </button>
                  <button class="btn btn-favorite" title="Yêu thích">
                    <i class="fas fa-heart"></i>
                  </button>
                </div>
                <div class="card-body d-flex flex-column">
                  <h5 class="card-title">Dây Kéo Thần Thiết - Màu Vàng</h5>
                  <p class="card-text description">
                    Dây kéo màu vàng, nổi bật và thu hút ánh nhìn cho trang
                    phục.
                  </p>
                  <div class="pricing mt-auto">
                    <span class="discount-badge">-20%</span>
                    <span class="discounted-price">11,000đ</span>
                    <span class="original-price">13,750đ</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Sản phẩm 8 -->
            <div
              class="col-md-4 mb-4"
              data-price="6000"
              data-brand="SmoothZips"
            >
              <div class="card h-100">
                <img
                  src="images/daykeosmoothsilver.jpg"
                  class="card-img-top"
                  alt="Dây Kéo Smooth - Màu Bạc"
                />
                <div class="card-actions">
                  <button class="btn btn-add-to-cart" title="Thêm vào giỏ">
                    <i class="fas fa-shopping-cart"></i>
                  </button>
                  <button class="btn btn-favorite" title="Yêu thích">
                    <i class="fas fa-heart"></i>
                  </button>
                </div>
                <div class="card-body d-flex flex-column">
                  <h5 class="card-title">Dây Kéo Smooth - Màu Bạc</h5>
                  <p class="card-text description">
                    Dây kéo màu bạc, tinh tế và thanh lịch cho trang phục công
                    sở.
                  </p>
                  <div class="pricing mt-auto">
                    <span class="discount-badge">-5%</span>
                    <span class="discounted-price">6,000đ</span>
                    <span class="original-price">6,316đ</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Sản phẩm 9 -->
            <div
              class="col-md-4 mb-4"
              data-price="10000"
              data-brand="ZipperPro"
            >
              <div class="card h-100">
                <img
                  src="images/daykeoelegantgreen.jpg"
                  class="card-img-top"
                  alt="Dây Kéo Elegant - Màu Xanh Lá"
                />
                <div class="card-actions">
                  <button class="btn btn-add-to-cart" title="Thêm vào giỏ">
                    <i class="fas fa-shopping-cart"></i>
                  </button>
                  <button class="btn btn-favorite" title="Yêu thích">
                    <i class="fas fa-heart"></i>
                  </button>
                </div>
                <div class="card-body d-flex flex-column">
                  <h5 class="card-title">Dây Kéo Elegant - Màu Xanh Lá</h5>
                  <p class="card-text description">
                    Dây kéo màu xanh lá, phù hợp với các loại áo thể thao và
                    casual.
                  </p>
                  <div class="pricing mt-auto">
                    <span class="discount-badge">-10%</span>
                    <span class="discounted-price">10,000đ</span>
                    <span class="original-price">11,111đ</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Sản phẩm 10 -->
            <div
              class="col-md-4 mb-4"
              data-price="13000"
              data-brand="ZipperPro"
            >
              <div class="card h-100">
                <img
                  src="images/daykeothanhtheoococ.jpg"
                  class="card-img-top"
                  alt="Dây Kéo Thần Thiết - Cổ Cọc"
                />
                <div class="card-actions">
                  <button class="btn btn-add-to-cart" title="Thêm vào giỏ">
                    <i class="fas fa-shopping-cart"></i>
                  </button>
                  <button class="btn btn-favorite" title="Yêu thích">
                    <i class="fas fa-heart"></i>
                  </button>
                </div>
                <div class="card-body d-flex flex-column">
                  <h5 class="card-title">Dây Kéo Thần Thiết - Cổ Cọc</h5>
                  <p class="card-text description">
                    Dây kéo cổ cọc, thiết kế đặc biệt cho các loại áo sơ mi cổ
                    điển.
                  </p>
                  <div class="pricing mt-auto">
                    <span class="discount-badge">-20%</span>
                    <span class="discounted-price">13,000đ</span>
                    <span class="original-price">16,250đ</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Sản phẩm 11 -->
            <div
              class="col-md-4 mb-4"
              data-price="9000"
              data-brand="SmoothZips"
            >
              <div class="card h-100">
                <img
                  src="images/daykeosmoothgold.jpg"
                  class="card-img-top"
                  alt="Dây Kéo Smooth - Màu Vàng Gold"
                />
                <div class="card-actions">
                  <button class="btn btn-add-to-cart" title="Thêm vào giỏ">
                    <i class="fas fa-shopping-cart"></i>
                  </button>
                  <button class="btn btn-favorite" title="Yêu thích">
                    <i class="fas fa-heart"></i>
                  </button>
                </div>
                <div class="card-body d-flex flex-column">
                  <h5 class="card-title">Dây Kéo Smooth - Màu Vàng Gold</h5>
                  <p class="card-text description">
                    Dây kéo màu vàng gold, lấp lánh và nổi bật cho các sự kiện
                    đặc biệt.
                  </p>
                  <div class="pricing mt-auto">
                    <span class="discount-badge">-15%</span>
                    <span class="discounted-price">9,000đ</span>
                    <span class="original-price">10,588đ</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Sản phẩm 12 -->
            <div
              class="col-md-4 mb-4"
              data-price="14000"
              data-brand="ElegantZips"
            >
              <div class="card h-100">
                <img
                  src="images/daykeoelegantsilver.jpg"
                  class="card-img-top"
                  alt="Dây Kéo Elegant - Màu Bạc"
                />
                <div class="card-actions">
                  <button class="btn btn-add-to-cart" title="Thêm vào giỏ">
                    <i class="fas fa-shopping-cart"></i>
                  </button>
                  <button class="btn btn-favorite" title="Yêu thích">
                    <i class="fas fa-heart"></i>
                  </button>
                </div>
                <div class="card-body d-flex flex-column">
                  <h5 class="card-title">Dây Kéo Elegant - Màu Bạc</h5>
                  <p class="card-text description">
                    Dây kéo màu bạc, thanh lịch và phù hợp với nhiều loại áo.
                  </p>
                  <div class="pricing mt-auto">
                    <span class="discount-badge">-20%</span>
                    <span class="discounted-price">14,000đ</span>
                    <span class="original-price">17,500đ</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Tiếp tục thêm các sản phẩm tương tự cho các trang tiếp theo -->
            <!-- Sản phẩm 13 -->
            <div
              class="col-md-4 mb-4"
              data-price="10000"
              data-brand="ZipperPro"
            >
              <div class="card h-100">
                <img
                  src="images/daykeothanhtheoocochai2.jpg"
                  class="card-img-top"
                  alt="Dây Kéo Thần Thiết - Cổ Chai 2"
                />
                <div class="card-actions">
                  <button class="btn btn-add-to-cart" title="Thêm vào giỏ">
                    <i class="fas fa-shopping-cart"></i>
                  </button>
                  <button class="btn btn-favorite" title="Yêu thích">
                    <i class="fas fa-heart"></i>
                  </button>
                </div>
                <div class="card-body d-flex flex-column">
                  <h5 class="card-title">Dây Kéo Thần Thiết - Cổ Chai 2</h5>
                  <p class="card-text description">
                    Dây kéo cổ chai, phù hợp với các loại áo sơ mi cổ điển.
                  </p>
                  <div class="pricing mt-auto">
                    <span class="discount-badge">-10%</span>
                    <span class="discounted-price">10,000đ</span>
                    <span class="original-price">11,111đ</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Sản phẩm 14 -->
            <div
              class="col-md-4 mb-4"
              data-price="8500"
              data-brand="SmoothZips"
            >
              <div class="card h-100">
                <img
                  src="images/daykeosmoothpurple.jpg"
                  class="card-img-top"
                  alt="Dây Kéo Smooth - Màu Tím"
                />
                <div class="card-actions">
                  <button class="btn btn-add-to-cart" title="Thêm vào giỏ">
                    <i class="fas fa-shopping-cart"></i>
                  </button>
                  <button class="btn btn-favorite" title="Yêu thích">
                    <i class="fas fa-heart"></i>
                  </button>
                </div>
                <div class="card-body d-flex flex-column">
                  <h5 class="card-title">Dây Kéo Smooth - Màu Tím</h5>
                  <p class="card-text description">
                    Dây kéo màu tím, phong cách và thích hợp cho các loại áo thể
                    thao.
                  </p>
                  <div class="pricing mt-auto">
                    <span class="discount-badge">-5%</span>
                    <span class="discounted-price">8,500đ</span>
                    <span class="original-price">8,947đ</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Sản phẩm 15 -->
            <div
              class="col-md-4 mb-4"
              data-price="16000"
              data-brand="ElegantZips"
            >
              <div class="card h-100">
                <img
                  src="images/daykeoelegantblack2.jpg"
                  class="card-img-top"
                  alt="Dây Kéo Elegant - Màu Đen 2"
                />
                <div class="card-actions">
                  <button class="btn btn-add-to-cart" title="Thêm vào giỏ">
                    <i class="fas fa-shopping-cart"></i>
                  </button>
                  <button class="btn btn-favorite" title="Yêu thích">
                    <i class="fas fa-heart"></i>
                  </button>
                </div>
                <div class="card-body d-flex flex-column">
                  <h5 class="card-title">Dây Kéo Elegant - Màu Đen 2</h5>
                  <p class="card-text description">
                    Dây kéo màu đen, tinh tế và phù hợp với các loại áo formal.
                  </p>
                  <div class="pricing mt-auto">
                    <span class="discount-badge">-20%</span>
                    <span class="discounted-price">16,000đ</span>
                    <span class="original-price">20,000đ</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Sản phẩm 16 -->
            <div class="col-md-4 mb-4" data-price="7500" data-brand="ZipperPro">
              <div class="card h-100">
                <img
                  src="images/daykeothanhtheoocochai3.jpg"
                  class="card-img-top"
                  alt="Dây Kéo Thần Thiết - Cổ Chai 3"
                />
                <div class="card-actions">
                  <button class="btn btn-add-to-cart" title="Thêm vào giỏ">
                    <i class="fas fa-shopping-cart"></i>
                  </button>
                  <button class="btn btn-favorite" title="Yêu thích">
                    <i class="fas fa-heart"></i>
                  </button>
                </div>
                <div class="card-body d-flex flex-column">
                  <h5 class="card-title">Dây Kéo Thần Thiết - Cổ Chai 3</h5>
                  <p class="card-text description">
                    Dây kéo cổ chai, phù hợp với các loại áo sơ mi cổ điển.
                  </p>
                  <div class="pricing mt-auto">
                    <span class="discount-badge">-10%</span>
                    <span class="discounted-price">7,500đ</span>
                    <span class="original-price">8,333đ</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Sản phẩm 17 -->
            <div
              class="col-md-4 mb-4"
              data-price="9500"
              data-brand="SmoothZips"
            >
              <div class="card h-100">
                <img
                  src="images/daykeosmoothbrown.jpg"
                  class="card-img-top"
                  alt="Dây Kéo Smooth - Màu Nâu"
                />
                <div class="card-actions">
                  <button class="btn btn-add-to-cart" title="Thêm vào giỏ">
                    <i class="fas fa-shopping-cart"></i>
                  </button>
                  <button class="btn btn-favorite" title="Yêu thích">
                    <i class="fas fa-heart"></i>
                  </button>
                </div>
                <div class="card-body d-flex flex-column">
                  <h5 class="card-title">Dây Kéo Smooth - Màu Nâu</h5>
                  <p class="card-text description">
                    Dây kéo màu nâu, cổ điển và dễ phối hợp với nhiều loại áo.
                  </p>
                  <div class="pricing mt-auto">
                    <span class="discount-badge">-15%</span>
                    <span class="discounted-price">9,500đ</span>
                    <span class="original-price">11,176đ</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Sản phẩm 18 -->
            <div
              class="col-md-4 mb-4"
              data-price="13000"
              data-brand="ZipperPro"
            >
              <div class="card h-100">
                <img
                  src="images/daykeoelegantwhite.jpg"
                  class="card-img-top"
                  alt="Dây Kéo Elegant - Màu Trắng"
                />
                <div class="card-actions">
                  <button class="btn btn-add-to-cart" title="Thêm vào giỏ">
                    <i class="fas fa-shopping-cart"></i>
                  </button>
                  <button class="btn btn-favorite" title="Yêu thích">
                    <i class="fas fa-heart"></i>
                  </button>
                </div>
                <div class="card-body d-flex flex-column">
                  <h5 class="card-title">Dây Kéo Elegant - Màu Trắng</h5>
                  <p class="card-text description">
                    Dây kéo màu trắng, tinh tế và phù hợp với các loại áo
                    formal.
                  </p>
                  <div class="pricing mt-auto">
                    <span class="discount-badge">-20%</span>
                    <span class="discounted-price">16,000đ</span>
                    <span class="original-price">20,000đ</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Sản phẩm 19 -->
            <div
              class="col-md-4 mb-4"
              data-price="11000"
              data-brand="ZipperPro"
            >
              <div class="card h-100">
                <img
                  src="images/daykeothanhtheoocochai4.jpg"
                  class="card-img-top"
                  alt="Dây Kéo Thần Thiết - Cổ Chai 4"
                />
                <div class="card-actions">
                  <button class="btn btn-add-to-cart" title="Thêm vào giỏ">
                    <i class="fas fa-shopping-cart"></i>
                  </button>
                  <button class="btn btn-favorite" title="Yêu thích">
                    <i class="fas fa-heart"></i>
                  </button>
                </div>
                <div class="card-body d-flex flex-column">
                  <h5 class="card-title">Dây Kéo Thần Thiết - Cổ Chai 4</h5>
                  <p class="card-text description">
                    Dây kéo cổ chai, thiết kế đặc biệt cho các loại áo sơ mi cổ
                    điển.
                  </p>
                  <div class="pricing mt-auto">
                    <span class="discount-badge">-10%</span>
                    <span class="discounted-price">9,500đ</span>
                    <span class="original-price">10,556đ</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Sản phẩm 20 -->
            <div
              class="col-md-4 mb-4"
              data-price="14000"
              data-brand="SmoothZips"
            >
              <div class="card h-100">
                <img
                  src="images/daykeosmoothgray.jpg"
                  class="card-img-top"
                  alt="Dây Kéo Smooth - Màu Xám"
                />
                <div class="card-actions">
                  <button class="btn btn-add-to-cart" title="Thêm vào giỏ">
                    <i class="fas fa-shopping-cart"></i>
                  </button>
                  <button class="btn btn-favorite" title="Yêu thích">
                    <i class="fas fa-heart"></i>
                  </button>
                </div>
                <div class="card-body d-flex flex-column">
                  <h5 class="card-title">Dây Kéo Smooth - Màu Xám</h5>
                  <p class="card-text description">
                    Dây kéo màu xám, phù hợp với các loại áo vest và áo khoác.
                  </p>
                  <div class="pricing mt-auto">
                    <span class="discount-badge">-20%</span>
                    <span class="discounted-price">18,000đ</span>
                    <span class="original-price">22,500đ</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Sản phẩm 21 -->
            <div
              class="col-md-4 mb-4"
              data-price="7000"
              data-brand="ElegantZips"
            >
              <div class="card h-100">
                <img
                  src="images/daykeoelegantpink.jpg"
                  class="card-img-top"
                  alt="Dây Kéo Elegant - Màu Hồng"
                />
                <div class="card-actions">
                  <button class="btn btn-add-to-cart" title="Thêm vào giỏ">
                    <i class="fas fa-shopping-cart"></i>
                  </button>
                  <button class="btn btn-favorite" title="Yêu thích">
                    <i class="fas fa-heart"></i>
                  </button>
                </div>
                <div class="card-body d-flex flex-column">
                  <h5 class="card-title">Dây Kéo Elegant - Màu Hồng</h5>
                  <p class="card-text description">
                    Dây kéo màu hồng, nữ tính và phù hợp với các loại áo mềm
                    mại.
                  </p>
                  <div class="pricing mt-auto">
                    <span class="discount-badge">-10%</span>
                    <span class="discounted-price">7,000đ</span>
                    <span class="original-price">7,778đ</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Sản phẩm 22 -->
            <div
              class="col-md-4 mb-4"
              data-price="16000"
              data-brand="ZipperPro"
            >
              <div class="card h-100">
                <img
                  src="images/daykeothanhtheoocochai5.jpg"
                  class="card-img-top"
                  alt="Dây Kéo Thần Thiết - Cổ Chai 5"
                />
                <div class="card-actions">
                  <button class="btn btn-add-to-cart" title="Thêm vào giỏ">
                    <i class="fas fa-shopping-cart"></i>
                  </button>
                  <button class="btn btn-favorite" title="Yêu thích">
                    <i class="fas fa-heart"></i>
                  </button>
                </div>
                <div class="card-body d-flex flex-column">
                  <h5 class="card-title">Dây Kéo Thần Thiết - Cổ Chai 5</h5>
                  <p class="card-text description">
                    Dây kéo cổ chai, thiết kế đặc biệt cho các loại áo sơ mi cổ
                    điển.
                  </p>
                  <div class="pricing mt-auto">
                    <span class="discount-badge">-20%</span>
                    <span class="discounted-price">16,000đ</span>
                    <span class="original-price">20,000đ</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Sản phẩm 23 -->
            <div
              class="col-md-4 mb-4"
              data-price="8000"
              data-brand="SmoothZips"
            >
              <div class="card h-100">
                <img
                  src="images/daykeosmoothorange.jpg"
                  class="card-img-top"
                  alt="Dây Kéo Smooth - Màu Cam"
                />
                <div class="card-actions">
                  <button class="btn btn-add-to-cart" title="Thêm vào giỏ">
                    <i class="fas fa-shopping-cart"></i>
                  </button>
                  <button class="btn btn-favorite" title="Yêu thích">
                    <i class="fas fa-heart"></i>
                  </button>
                </div>
                <div class="card-body d-flex flex-column">
                  <h5 class="card-title">Dây Kéo Smooth - Màu Cam</h5>
                  <p class="card-text description">
                    Dây kéo màu cam, tươi sáng và phù hợp với các loại áo mùa
                    hè.
                  </p>
                  <div class="pricing mt-auto">
                    <span class="discount-badge">-10%</span>
                    <span class="discounted-price">8,000đ</span>
                    <span class="original-price">8,889đ</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Sản phẩm 24 -->
            <div
              class="col-md-4 mb-4"
              data-price="17000"
              data-brand="ElegantZips"
            >
              <div class="card h-100">
                <img
                  src="images/daykeoelegantpurple.jpg"
                  class="card-img-top"
                  alt="Dây Kéo Elegant - Màu Tím"
                />
                <div class="card-actions">
                  <button class="btn btn-add-to-cart" title="Thêm vào giỏ">
                    <i class="fas fa-shopping-cart"></i>
                  </button>
                  <button class="btn btn-favorite" title="Yêu thích">
                    <i class="fas fa-heart"></i>
                  </button>
                </div>
                <div class="card-body d-flex flex-column">
                  <h5 class="card-title">Dây Kéo Elegant - Màu Tím</h5>
                  <p class="card-text description">
                    Dây kéo màu tím, sang trọng và phù hợp với các loại áo dạ
                    hội.
                  </p>
                  <div class="pricing mt-auto">
                    <span class="discount-badge">-20%</span>
                    <span class="discounted-price">17,000đ</span>
                    <span class="original-price">21,250đ</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Sản phẩm 25 -->
            <div class="col-md-4 mb-4" data-price="9500" data-brand="ZipperPro">
              <div class="card h-100">
                <img
                  src="images/daykeothanhtheoocochai6.jpg"
                  class="card-img-top"
                  alt="Dây Kéo Thần Thiết - Cổ Chai 6"
                />
                <div class="card-actions">
                  <button class="btn btn-add-to-cart" title="Thêm vào giỏ">
                    <i class="fas fa-shopping-cart"></i>
                  </button>
                  <button class="btn btn-favorite" title="Yêu thích">
                    <i class="fas fa-heart"></i>
                  </button>
                </div>
                <div class="card-body d-flex flex-column">
                  <h5 class="card-title">Dây Kéo Thần Thiết - Cổ Chai 6</h5>
                  <p class="card-text description">
                    Dây kéo cổ chai, phù hợp với các loại áo sơ mi cổ điển.
                  </p>
                  <div class="pricing mt-auto">
                    <span class="discount-badge">-10%</span>
                    <span class="discounted-price">9,500đ</span>
                    <span class="original-price">10,556đ</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Sản phẩm 26 -->
            <div
              class="col-md-4 mb-4"
              data-price="18000"
              data-brand="SmoothZips"
            >
              <div class="card h-100">
                <img
                  src="images/daykeosmoothgray.jpg"
                  class="card-img-top"
                  alt="Dây Kéo Smooth - Màu Xám"
                />
                <div class="card-actions">
                  <button class="btn btn-add-to-cart" title="Thêm vào giỏ">
                    <i class="fas fa-shopping-cart"></i>
                  </button>
                  <button class="btn btn-favorite" title="Yêu thích">
                    <i class="fas fa-heart"></i>
                  </button>
                </div>
                <div class="card-body d-flex flex-column">
                  <h5 class="card-title">Dây Kéo Smooth - Màu Xám</h5>
                  <p class="card-text description">
                    Dây kéo màu xám, phù hợp với các loại áo vest và áo khoác.
                  </p>
                  <div class="pricing mt-auto">
                    <span class="discount-badge">-20%</span>
                    <span class="discounted-price">18,000đ</span>
                    <span class="original-price">22,500đ</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Phân trang ở dưới bên phải -->
          <nav aria-label="Page navigation example" class="mt-3">
            <ul class="pagination" id="paginationBottom">
              <li class="page-item disabled" data-page="prev">
                <a class="page-link" href="#" tabindex="-1" aria-disabled="true"
                  >Trước</a
                >
              </li>
              <li class="page-item active" aria-current="page" data-page="1">
                <a class="page-link" href="#">1</a>
              </li>
              <li class="page-item" data-page="2">
                <a class="page-link" href="#">2</a>
              </li>
              <li class="page-item" data-page="3">
                <a class="page-link" href="#">3</a>
              </li>
              <li class="page-item" data-page="next">
                <a class="page-link" href="#">Sau</a>
              </li>
            </ul>
          </nav>
        </div>
      </div>
    </div>

    <!-- Footer (nếu có) -->

    <!-- Bootstrap JS -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    ></script>

<!-- Your existing HTML structure remains largely unchanged -->

<!-- JavaScript to Handle Filtering, Sorting, and Pagination -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const productGrid = document.querySelector(".product-grid");
    const sortSelect = document.getElementById("sortSelect");
    const paginationTop = document.getElementById("paginationTop");
    const paginationBottom = document.getElementById("paginationBottom");
    const priceFilters = document.querySelectorAll(".price-filter");
    const brandFilters = document.querySelectorAll(".brand-filter");

    let currentPage = parseInt(localStorage.getItem("currentPage")) || 1;
    const productsPerPage = 9;
    let filteredProducts = [];

    // Retrieve all product cards
    const allProducts = Array.from(document.querySelectorAll(".product-grid .col-md-4"));

    // Utility function to parse price string to integer
    function parsePrice(priceStr) {
      return parseInt(priceStr.replace(/[^0-9]/g, ""));
    }

    // Function to filter products based on selected price and brand filters
    function filterProducts() {
      const checkedPriceFilters = Array.from(priceFilters).filter(filter => filter.checked);
      const priceRanges = checkedPriceFilters.map(filter => {
        const min = parseInt(filter.getAttribute("data-min")) || 0;
        const maxAttr = filter.getAttribute("data-max");
        const max = maxAttr ? parseInt(maxAttr) : Number.MAX_SAFE_INTEGER;
        return { min, max };
      });

      const checkedBrandFilters = Array.from(brandFilters).filter(filter => filter.checked);
      const brands = checkedBrandFilters.map(filter => filter.getAttribute("data-brand"));

      // Filter products based on price and brand
      filteredProducts = allProducts.filter(card => {
        const discountedPriceEl = card.querySelector(".discounted-price");
        const brand = card.getAttribute("data-brand");
        if (!discountedPriceEl) return false;

        const priceText = discountedPriceEl.textContent.trim();
        const price = parsePrice(priceText);

        // Check price range
        const isPriceMatch = priceRanges.length === 0 || priceRanges.some(range => price >= range.min && price <= range.max);

        // Check brand
        const isBrandMatch = brands.length === 0 || brands.includes(brand);

        return isPriceMatch && isBrandMatch;
      });

      console.log(`Total Filtered Products: ${filteredProducts.length}`); // Debugging

      // Sort the filtered products
      sortFilteredProducts();

      // Reset to first page after filtering
      currentPage = 1;
      localStorage.setItem("currentPage", "1");
      renderPagination();
    }

    // Function to sort the filtered products based on selected sort option
    function sortFilteredProducts() {
      const sortValue = sortSelect.value;

      filteredProducts.sort((a, b) => {
        const priceA = parsePrice(a.querySelector(".discounted-price").textContent.trim());
        const priceB = parsePrice(b.querySelector(".discounted-price").textContent.trim());

        const nameA = a.querySelector(".card-title").textContent.trim().toLowerCase();
        const nameB = b.querySelector(".card-title").textContent.trim().toLowerCase();

        if (sortValue === "name-asc") {
          return nameA.localeCompare(nameB);
        } else if (sortValue === "name-desc") {
          return nameB.localeCompare(nameA);
        } else if (sortValue === "price-asc") {
          return priceA - priceB;
        } else if (sortValue === "price-desc") {
          return priceB - priceA;
        } else {
          return 0;
        }
      });
    }

    // Function to render products for the current page
    function renderProducts() {
      // Clear the current product grid
      productGrid.innerHTML = "";

      const start = (currentPage - 1) * productsPerPage;
      const end = start + productsPerPage;
      const productsToShow = filteredProducts.slice(start, end);

      console.log(`Rendering products from index ${start} to ${end - 1}`); // Debugging

      productsToShow.forEach(card => {
        productGrid.appendChild(card);
      });

      // If no products to show, display a message
      if (productsToShow.length === 0) {
        const noProductMsg = document.createElement("p");
        noProductMsg.textContent = "Không có sản phẩm nào phù hợp với bộ lọc của bạn.";
        noProductMsg.classList.add("text-center", "mt-4");
        productGrid.appendChild(noProductMsg);
      }
    }

    // Function to update pagination controls
    function updatePagination(totalPages) {
      const paginations = [paginationTop, paginationBottom];

      paginations.forEach(pagination => {
        // Remove existing page numbers except 'prev' and 'next'
        pagination.querySelectorAll(".page-item:not([data-page='prev']):not([data-page='next'])").forEach(item => item.remove());

        // Dynamically create page number buttons
        for (let i = 1; i <= totalPages; i++) {
          const li = document.createElement("li");
          li.classList.add("page-item");
          li.setAttribute("data-page", i);

          if (i === currentPage) {
            li.classList.add("active");
            li.setAttribute("aria-current", "page");
          }

          const a = document.createElement("a");
          a.classList.add("page-link");
          a.href = "#";
          a.textContent = i;

          li.appendChild(a);
          pagination.insertBefore(li, pagination.querySelector("[data-page='next']"));
        }

        // Update 'prev' button state
        const prev = pagination.querySelector(".page-item[data-page='prev']");
        if (currentPage === 1) {
          prev.classList.add("disabled");
        } else {
          prev.classList.remove("disabled");
        }

        // Update 'next' button state
        const next = pagination.querySelector(".page-item[data-page='next']");
        if (currentPage === totalPages) {
          next.classList.add("disabled");
        } else {
          next.classList.remove("disabled");
        }
      });
    }

    // Function to handle pagination click events
    function handlePaginationClick(event) {
      event.preventDefault();
      const parentLi = event.target.closest(".page-item");
      if (!parentLi) return; // If not a page item, exit

      if (parentLi.classList.contains("disabled") || parentLi.classList.contains("active")) {
        return; // Do nothing if disabled or active
      }

      const page = parentLi.getAttribute("data-page");
      const totalPages = Math.ceil(filteredProducts.length / productsPerPage) || 1;

      if (page === "prev") {
        if (currentPage > 1) {
          currentPage--;
        }
      } else if (page === "next") {
        if (currentPage < totalPages) {
          currentPage++;
        }
      } else {
        currentPage = parseInt(page);
      }

      console.log(`Navigating to page ${currentPage}`); // Debugging

      localStorage.setItem("currentPage", currentPage.toString());
      renderPagination();
    }

    // Function to render pagination based on filtered products
    function renderPagination() {
      const totalPages = Math.ceil(filteredProducts.length / productsPerPage) || 1;

      // Ensure currentPage is within bounds
      if (currentPage > totalPages) {
        currentPage = totalPages;
        localStorage.setItem("currentPage", currentPage.toString());
      }

      console.log(`Total Pages: ${totalPages}`); // Debugging

      // Update pagination controls
      updatePagination(totalPages);

      // Render products for the current page
      renderProducts();
    }

    // Function to attach event listeners to pagination controls
    function attachPaginationEventListeners() {
      const paginations = [paginationTop, paginationBottom];
      paginations.forEach(pagination => {
        pagination.addEventListener("click", handlePaginationClick);
      });
    }

    // Event listener for sort selection change
    sortSelect.addEventListener("change", () => {
      sortFilteredProducts();
      currentPage = 1;
      localStorage.setItem("currentPage", "1");
      renderPagination();
    });

    // Event listeners for price and brand filters
    priceFilters.forEach(filter => {
      filter.addEventListener("change", filterProducts);
    });

    brandFilters.forEach(filter => {
      filter.addEventListener("change", filterProducts);
    });

    // Event delegation for Add to Cart and Favorite buttons
    productGrid.addEventListener("click", (e) => {
      if (e.target.closest(".btn-add-to-cart")) {
        e.preventDefault();
        alert("Đã thêm sản phẩm vào giỏ hàng!");
      }

      if (e.target.closest(".btn-favorite")) {
        e.preventDefault();
        const button = e.target.closest(".btn-favorite");
        button.classList.toggle("active");
        if (button.classList.contains("active")) {
          button.style.backgroundColor = "rgba(220, 53, 69, 1)";
          alert("Đã thêm sản phẩm vào danh sách yêu thích!");
        } else {
          button.style.backgroundColor = "rgba(220, 53, 69, 0.9)";
          alert("Đã loại bỏ sản phẩm khỏi danh sách yêu thích!");
        }
      }
    });

    // Initialize pagination event listeners
    attachPaginationEventListeners();

    // Ensure product grid is in grid view
    productGrid.classList.remove("list-view");

    // Initial filtering and rendering
    filterProducts();
  });

  // Function to send the page height to the parent (for embedding purposes)
  function sendHeight() {
    const height = document.body.scrollHeight;
    window.parent.postMessage(height, "*"); // In production, replace '*' with the specific origin
  }

  // Send height on page load and resize
  window.addEventListener("load", sendHeight);
  window.addEventListener("resize", sendHeight);
</script>

  </body>
</html>
